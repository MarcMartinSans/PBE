import time
import serial
from adafruit_pn532.uart import PN532_UART

# Configuración del UART
uart = serial.Serial('/dev/serial0', baudrate=115200, timeout=1)

# Inicialización del PN532
pn532 = PN532_UART(uart, debug=False)

# Esperando una tarjeta NFC
print("Esperando una tarjeta NFC...")
while True:
    uid = pn532.read_passive_target()
    if uid is not None:
        print("¡Tarjeta detectada! UID:", [hex(i) for i in uid])
        time.sleep(1)
